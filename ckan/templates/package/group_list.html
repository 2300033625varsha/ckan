{% extends "package/read_base.html" %}
{% import 'macros/form.html' as form %}

{% set default_group_type = h.default_group_type('group') %}
{% set default_group_type_label = h.humanize_entity_type(default_group_type) %}


{% block primary_content_inner %}
  <h2 class="hide-heading">{{ _(default_group_type_label.capitalize() ~ 's') }}</h2>

  {% if group_dropdown %}
    <form class="add-to-group" method="post">
      <select id="field-add_group" name="group_added" data-module="autocomplete">
        {% for option in group_dropdown %}
          <option value="{{ option[0] }}"> {{ option[1] }}</option>
        {% endfor %}
      </select>
      <button type="submit" class="btn btn-primary" title="{{ _('Associate this group with this dataset') }}">{{ _('Add') }}</button>
    </form>
  {% endif %}

  {% if pkg_dict.groups %}
    <form method="post">
      {% snippet 'group/snippets/group_list.html', groups=pkg_dict.groups %}
    </form>
  {% else %}
    <p class="empty">{{ _('There are no ' ~ default_group_type_label ~  's associated with this dataset') }}</p>
  {% endif %}

{% endblock %}
